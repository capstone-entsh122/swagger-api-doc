openapi: 3.0.0
info:
  title: One-Stop Sport App API
  version: 1.0.0
  description: API documentation for the One-Stop Sport App
servers:
  - url: http://localhost:3000
    description: Local server
  - url: https://api.yoursportapp.com
    description: Production server
paths:
  /api/users/signup:
    post:
      summary: User Signup
      operationId: userSignup
      requestBody:
        description: User signup details
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  example: user@example.com
                displayName:
                  type: string
                  example: User Name
                gender:
                  type: string
                  example: male
                age:
                  type: integer
                  example: 25
                equipment:
                  type: string
                  example: none
      responses:
        '200':
          description: Signup successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Signup successful
        '400':
          description: Signup failed
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Signup failed
                  error:
                    type: string
                    example: Invalid input data
  /api/users/preferences:
    post:
      summary: Set User Preferences
      operationId: setUserPreferences
      security:
        - bearerAuth: []
      requestBody:
        description: User preferences details
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                motivation:
                  type: string
                  example: Get fit
                availableTime:
                  type: integer
                  example: 30
                fitnessLevel:
                  type: string
                  example: average
                placePreference:
                  type: string
                  example: home
                socialPreference:
                  type: string
                  example: alone
                diseaseHistory:
                  type: array
                  items:
                    type: string
                  example: ["hypertension"]
      responses:
        '200':
          description: Preferences set successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Preferences set successfully
                  recommendedSports:
                    type: array
                    items:
                      type: string
                    example: ["Yoga", "Running", "Swimming"]
        '400':
          description: Setting preferences failed
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Setting preferences failed
                  error:
                    type: string
                    example: Invalid input data
    put:
      summary: Update User Preferences
      operationId: updateUserPreferences
      security:
        - bearerAuth: []
      requestBody:
        description: User preferences data to update
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                motivation:
                  type: string
                  example: Lose weight
                availableTime:
                  type: integer
                  example: 45
                fitnessLevel:
                  type: string
                  example: good
                placePreference:
                  type: string
                  example: outdoor
                socialPreference:
                  type: string
                  example: with others
                diseaseHistory:
                  type: array
                  items:
                    type: string
                  example: ["cardiovascular"]
      responses:
        '200':
          description: Preferences updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Preferences updated successfully
        '400':
          description: Update failed
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Update failed
                  error:
                    type: string
                    example: Invalid input data
  /api/users/profile:
    get:
      summary: Get User Profile
      operationId: getUserProfile
      security:
        - bearerAuth: []
      responses:
        '200':
          description: User profile retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  userId:
                    type: string
                    example: user123
                  email:
                    type: string
                    example: user@example.com
                  displayName:
                    type: string
                    example: User Name
                  gender:
                    type: string
                    example: male
                  age:
                    type: integer
                    example: 25
                  location:
                    type: string
                    example: City, Country
                  equipment:
                    type: string
                    example: none
                  preferences:
                    type: object
                    properties:
                      motivation:
                        type: string
                        example: Get fit
                      availableTime:
                        type: integer
                        example: 30
                      fitnessLevel:
                        type: string
                        example: average
                      placePreference:
                        type: string
                        example: home
                      socialPreference:
                        type: string
                        example: alone
                      diseaseHistory:
                        type: array
                        items:
                          type: string
                        example: ["hypertension"]
                  communities:
                    type: array
                    items:
                      type: string
                    example: ["community123"]
                  points:
                    type: integer
                    example: 100
    put:
      summary: Update User Profile
      operationId: updateUserProfile
      security:
        - bearerAuth: []
      requestBody:
        description: User profile data to update
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                displayName:
                  type: string
                  example: Updated Name
                location:
                  type: string
                  example: New City, Country
                equipment:
                  type: string
                  example: basic
      responses:
        '200':
          description: Profile updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Profile updated successfully
        '400':
          description: Update failed
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Update failed
                  error:
                    type: string
                    example: Invalid input data
  /api/users/profile/photo:
    post:
      summary: Upload Profile Photo
      operationId: uploadProfilePhoto
      security:
        - bearerAuth: []
      requestBody:
        description: Profile photo upload
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                photo:
                  type: string
                  format: binary
      responses:
        '200':
          description: Profile photo uploaded successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Profile photo uploaded successfully
                  photoUrl:
                    type: string
                    example: http://example.com/newphoto.jpg
        '400':
          description: Photo upload failed
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Photo upload failed
                  error:
                    type: string
                    example: Invalid input data
    get:
      summary: Get Profile Photo
      operationId: getProfilePhoto
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Profile photo URL retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  photoUrl:
                    type: string
                    example: http://example.com/photo.jpg
        '400':
          description: Failed to retrieve profile photo URL
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Failed to retrieve profile photo URL
                  error:
                    type: string
                    example: Invalid input data
  /api/users/delete:
    delete:
      summary: Delete User Account
      operationId: deleteUserAccount
      security:
        - bearerAuth: []
      responses:
        '200':
          description: User account deleted successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: User account deleted successfully
        '400':
          description: Deletion failed
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Deletion failed
                  error:
                    type: string
                    example: Invalid input data
  /api/food/calories:
    post:
      summary: Predict Food Calories
      operationId: predictFoodCalories
      requestBody:
        description: Image of the food
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                image:
                  type: string
                  format: binary        
      responses:
        '200':
          description: Prediction successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  calories:
                    type: number
                    example: 250
        '400':
          description: Prediction failed
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Prediction failed
                  error:
                    type: string
                    example: Invalid input data
  /api/community:
    get:
      summary: Get all communities
      operationId: getAllCommunities
      responses:
        '200':
          description: List of all communities
          content:
            application/json:
              schema:
                type: object
                properties:
                  communitiesId:
                    type: string
                    example: community123
                  name:
                    type: string
                    example: Community Name
                  description:
                    type: string
                    example: Community Description
                  cretor: 
                    type: string
                    example: Creator Name
                  members: 
                    type: string
                    example: Member Name
                  posts: 
                    type: object
                    properties:
                      content: 
                        type: string
                        example: 'This is a post content'
                      author:
                        type: string
                        example: Author Name
                  events:
                    type: object
                    properties:
                      name: 
                        type: string
                        example: Event Name
                      description:
                        type: string
                        example: Event Descriiption
                      creator:
                        type: string
                        example: creator Name
                      communities:
                        type: communityId
                        example: community123
                      startTime: 
                        type:
                        example:
                      endTime:
                        type:
                        example:
                      participants:
                        type: string
                        example: Name Participant
                      points:
                        type: integer
                        example: 100

        '400':
          description: Failed to get communities
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Failed to get communities
                  error:
                    type: string
                    example: Invalid input data
  /api/community/posts:
    get:
      summary: Get Your Communities
      operationId: GetYourCommunities
      responses:
        '200':
          description: ListCommunities
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    postId:
                      type: string
                      example: post123
                    content:
                      type: string
                      example: 'This is a post content'
                    author:
                      type: string
                      example: Author Name
        '400':
          description: Failed to Get Your Communities
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Failed to Get Your Communities
                  error:
                    type: string
                    example: Invalid input data
    post:
      summary: New Communities
      operationId: NewCommunities
      requestBody:
        description: Communities new
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                postId:
                  type: string
                  example: post123
                content:
                  type: string
                  example: 'This is a post content.'
                author:
                  type: string
                  example: user123
      responses:
        '201':
          description: Communities uploaded successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Communities uploaded successfully
        '400':
          description: Communities upload failed
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Communities upload failed
                  error:
                    type: string
                    example: Invalid input data          
           
    put:
      summary: Update Communities
      operationId: updateCommunities
      requestBody:
        description: Communities data update
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                content:
                  type: string
                  example: 'This is a post content.'
      responses:
        '200':
          description: Communities updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Communities updated successfully
        '400':
          description: Update failed
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Update failed
                  error:
                    type: string
                    example: Invalid input data
  /api/community/event:
    get:
      summary: Get Events
      operationId: GetEvents
      responses:
        '200':
          description: ListEvents
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                      name: 
                        type: string
                        example: Event Name
                      description:
                        type: string
                        example: Event Descriiption
                      creator:
                        type: string
                        example: creator Name
                      communities:
                        type: communityId
                        example: community123
                      startTime: 
                        type:
                        example:
                      endTime:
                        type:
                        example:
                      participants:
                        type: string
                        example: Name Participant
                      points:
                        type: integer
                        example: 100
        '400':
          description: Failed to Events
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Failed to Get Events
                  error:
                    type: string
                    example: Invalid input data

    post:
      summary: New Events
      operationId: NewEvents
      requestBody:
        description: Create Events
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                      name: 
                        type: string
                        example: Event Name
                      description:
                        type: string
                        example: Event Descriiption
                      creator:
                        type: string
                        example: creator Name
                      communities:
                        type: communityId
                        example: community123
                      startTime: 
                        type:
                        example:
                      endTime:
                        type:
                        example:
                      participants:
                        type: string
                        example: Name Participant
                      points:
                        type: integer
                        example: 100
                  
      responses:
        '201':
          description: Events uploaded successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Events uploaded successfully
        '400':
          description: Events upload failed
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Events upload failed
                  error:
                    type: string
                    example: Invalid input data
    
    put:
      summary: Update Events
      operationId: updateEvents
      security:
        - bearerAuth: []
      requestBody:
        description: Events data update
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                      name: 
                        type: string
                        example: Event Name
                      description:
                        type: string
                        example: Event Descriiption
                      startTime: 
                        type:
                        example:
                      endTime:
                        type:
                        example:
                      participants:
                        type: string
                        example: Name Participant                
      responses:
        '200':
          description: Events updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Events updated successfully
        '400':
          description: Update failed
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Update failed
                  error:
                    type: string
                    example: Invalid input data

components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
